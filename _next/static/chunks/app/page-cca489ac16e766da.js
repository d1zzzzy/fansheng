(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7813:(t,e,n)=>{Promise.resolve().then(n.bind(n,6704))},6704:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var i=n(5155),a=n(2115);class s{static drawPoint(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.beginPath(),t.arc(e.x,e.y,n.lineWidth||1,0,2*Math.PI),t.fillStyle=n.color||"black",t.fill()}static drawLine(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.strokeStyle=i.color||"black",t.lineWidth=i.lineWidth||1,t.stroke()}static drawArc(t,e,n,i,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};t.beginPath(),t.arc(e.x,e.y,n,i,a),t.strokeStyle=s.color||"black",t.lineWidth=s.lineWidth||1,t.stroke()}static drawRect(t,e,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};t.beginPath(),t.rect(e.x,e.y,n,i),t.strokeStyle=a.color||"black",t.lineWidth=a.lineWidth||1,t.stroke()}static clearCanvas(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-t.canvas.width,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-t.canvas.height,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*t.canvas.width,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*t.canvas.height;t.clearRect(e,n,i,a)}static updateDpr(){void 0===this._dpr&&(this._dpr=window.devicePixelRatio||1)}static get dpr(){return this.updateDpr(),this._dpr}}s._dpr=void 0;class o{resizeCanvas(t,e){var n,i,a;let s=e.width||t.clientWidth,o=e.height||t.clientHeight;this.canvas.width=s*this.dpr,this.canvas.height=o*this.dpr,this.canvas.style.width="".concat(s,"px"),this.canvas.style.height="".concat(o,"px"),this.offscreenCanvas.width=this.canvas.width,this.offscreenCanvas.height=this.canvas.height,this.animationCanvas.width=this.canvas.width,this.animationCanvas.height=this.canvas.height,null===(n=this.context)||void 0===n||n.setTransform(this.dpr,0,0,-this.dpr,this.canvas.width/2,this.canvas.height/2),null===(i=this.offscreenContext)||void 0===i||i.setTransform(this.dpr,0,0,-this.dpr,this.offscreenCanvas.width/2,this.offscreenCanvas.height/2),null===(a=this.animationContext)||void 0===a||a.setTransform(this.dpr,0,0,-this.dpr,this.animationCanvas.width/2,this.animationCanvas.height/2)}getContext(){if(!this.context)throw Error("Canvas context is not initialized");return this.context}clear(){var t;null===(t=this.context)||void 0===t||t.clearRect(-this.canvas.width/2,-this.canvas.height/2,this.canvas.width,this.canvas.height)}drawLine(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.drawLine(this.context,t,e,n)}drawAnimateLine(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise(a=>{let o=this.offscreenContext,r=this.animationContext;if(i<=0){var h;s.drawLine(o,t,e,n),null===(h=this.context)||void 0===h||h.drawImage(this.offscreenCanvas,-this.canvas.width/2,-this.canvas.height/2),a();return}let l=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),c=l/(i/16.67),d=0,v={x:(t.x+e.x)/2,y:(t.y+e.y)/2},x=t=>Math.round(t)+.5,m=()=>{if(d<l/2){let i=d/(l/2),a={x:x(v.x-(v.x-t.x)*i),y:x(v.y-(v.y-t.y)*i)},o={x:x(v.x+(e.x-v.x)*i),y:x(v.y+(e.y-v.y)*i)};s.clearCanvas(r),s.drawLine(r,a,o,n),d+=c,requestAnimationFrame(m)}else s.drawLine(this.context,t,e,n),s.clearCanvas(r),a()};m()})}drawArc(t,e,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};s.drawArc(this.context,t,e,n,i,a)}drawPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.drawPoint(this.context,t,e)}drawRect(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s.drawRect(this.context,t,e,n,i)}drawText(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=0,s=setInterval(()=>{var n,o,r;this.clear(),null===(n=this.offscreenContext)||void 0===n||n.clearRect(-this.offscreenCanvas.width/2,-this.offscreenCanvas.height/2,this.offscreenCanvas.width,this.offscreenCanvas.height),this.offscreenContext.fillStyle=i.color||"black",this.offscreenContext.font="".concat(((null==i?void 0:i.fontSize)||16)*this.dpr,"px ").concat(i.font||"Arial"),null===(o=this.offscreenContext)||void 0===o||o.fillText(e.slice(0,a+1),t.x,t.y),null===(r=this.context)||void 0===r||r.drawImage(this.offscreenCanvas,-this.canvas.width/2,-this.canvas.height/2),++a>=e.length&&clearInterval(s)},n)}animate(t){let e=n=>{t(n),this.animationFrameId=requestAnimationFrame(e)};this.animationFrameId=requestAnimationFrame(e)}stopAnimation(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}clearCanvas(){this.clear()}moveLine(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Promise(o=>{let r=this.animationContext;if(i<=0){o();return}let h=performance.now(),l=0,c=d=>{let v=Math.min((d-h)/i,1),x=a*v,m=Math.min(t.x,e.x)-10,f=Math.min(t.y,e.y)-10+l,y=Math.max(t.x,e.x)+10,u=Math.max(t.y,e.y)+10+x;s.clearCanvas(r,m,f,y-m,u-f);let w={x:t.x,y:t.y+l},C={x:e.x,y:e.y+x};if(s.drawLine(r,w,C,n),l=x,v<1)requestAnimationFrame(c);else{let i={x:t.x,y:t.y+a},h={x:e.x,y:e.y+a};s.drawLine(this.context,i,h,n),s.clearCanvas(r),o()}};requestAnimationFrame(c)})}moveLines(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0];return new Promise(a=>{Promise.all(t.map((t,a)=>this.moveLine(t.start,t.end,e,n,i[a]))).then(()=>{a()})})}rotateLine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise(a=>{let o=this.animationContext;if(n<=0){a();return}let r=performance.now(),l=c=>{var d,v,x,m;let f=Math.min((c-r)/n,1),y=i*f*Math.PI/180,u={x:(t.start.x+t.end.x)/2,y:(t.start.y+t.end.y)/2},w=h(t.start,y,null!==(d=t.rotateAt)&&void 0!==d?d:u),C=h(t.end,y,null!==(v=t.rotateAt)&&void 0!==v?v:u);if(s.clearCanvas(o),s.drawLine(o,w,C,e),f<1)requestAnimationFrame(l);else{let n=h(t.start,y,null!==(x=t.rotateAt)&&void 0!==x?x:u),i=h(t.end,y,null!==(m=t.rotateAt)&&void 0!==m?m:u);s.clearCanvas(o),s.drawLine(this.context,n,i,e),a()}};requestAnimationFrame(l)})}rotateLines(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise(a=>{let o=this.animationContext;if(n<=0){a();return}let r=performance.now(),l=c=>{let d=Math.min((c-r)/n,1),v=i*d*Math.PI/180;s.clearCanvas(o),t.forEach(t=>{var n,i;let a={x:(t.start.x+t.end.x)/2,y:(t.start.y+t.end.y)/2},r=(t,e,n)=>{let i=Math.cos(e),a=Math.sin(e);return{x:i*(t.x-n.x)-a*(t.y-n.y)+n.x,y:a*(t.x-n.x)+i*(t.y-n.y)+n.y}},h=r(t.start,v,null!==(n=t.rotateAt)&&void 0!==n?n:a),l=r(t.end,v,null!==(i=t.rotateAt)&&void 0!==i?i:a);s.drawLine(o,h,l,e)}),d<1?requestAnimationFrame(l):(t.forEach(t=>{var n,i;let a={x:(t.start.x+t.end.x)/2,y:(t.start.y+t.end.y)/2},o=h(t.start,v,null!==(n=t.rotateAt)&&void 0!==n?n:a),r=h(t.end,v,null!==(i=t.rotateAt)&&void 0!==i?i:a);s.drawLine(this.context,o,r,e)}),s.clearCanvas(o),a())};requestAnimationFrame(l)})}constructor(t,e={}){if(this.context=null,this.offscreenContext=null,this.animationContext=null,this.animationFrameId=null,this.dpr=window.devicePixelRatio||1,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),!this.context)throw Error("Canvas 2D context is not supported");if(this.offscreenCanvas=document.createElement("canvas"),this.offscreenContext=this.offscreenCanvas.getContext("2d"),!this.offscreenContext)throw Error("Offscreen Canvas context is not supported");if(this.animationCanvas=document.createElement("canvas"),this.animationContext=this.animationCanvas.getContext("2d"),!this.animationContext)throw Error("Animation Canvas context is not supported");this.canvas.setAttribute("id","main-canvas"),this.animationCanvas.setAttribute("id","animation-canvas"),t.appendChild(this.canvas),t.appendChild(this.animationCanvas),this.resizeCanvas(t,e),r(this.canvas,t),r(this.animationCanvas,t),window.addEventListener("resize",()=>this.resizeCanvas(t,e))}}function r(t,e){t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="".concat(e.clientWidth,"px"),t.style.height="".concat(e.clientHeight,"px")}function h(t,e,n){let i=Math.cos(e),a=Math.sin(e);return{x:i*(t.x-n.x)-a*(t.y-n.y)+n.x,y:a*(t.x-n.x)+i*(t.y-n.y)+n.y}}let l={color:"#012622ff",lineWidth:1};async function c(t){let e={x:0,y:0};(function(t,e){t.drawPoint(e,l)})(t,e),await d(t,e),t.clear(),await v(t,e),await x(t,e)}async function d(t,e){let n={x:e.x-150,y:e.y},i={x:e.x+150,y:e.y};await t.drawAnimateLine(n,i,l,600)}async function v(t,e){let n=[,,,,].fill({start:{x:e.x-150,y:e.y},end:{x:e.x+150,y:e.y}}),i=[1.5,.5,-.5,-1.5].map(t=>100*t);await t.moveLines(n,l,600,i)}async function x(t,e){let n={x:e.x-150,y:e.y},i={x:e.x+150,y:e.y},a=[1.5,.5,-.5,-1.5].map(t=>100*t).map(t=>({start:{x:n.x,y:n.y+t},end:{x:i.x,y:i.y+t},rotateAt:{x:0,y:0}}));await t.rotateLines(a,l,600,90)}function m(){return(0,a.useEffect)(()=>{c(new o(document.getElementById("canvas-container")))},[]),(0,i.jsx)("div",{className:"w-full h-full",children:(0,i.jsx)("div",{className:"canvas-container w-full h-full",id:"canvas-container"})})}}},t=>{var e=e=>t(t.s=e);t.O(0,[441,517,358],()=>e(7813)),_N_E=t.O()}]);